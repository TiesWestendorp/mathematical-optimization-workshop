# Battery charging problem

![Charging battery](charging_battery.png "Generated by ChatGPT")

In a smart grid, appliances decide their own activation time. Washing machines, dishwashers, electric vehicles, batteries, heating, ventilation and air conditioning may all delay action until better conditions arise. Depending on the stakeholder, this may be when electricity prices are lower, or consume when energy is abundant or deliver energy when it is scarce (irrespective of price) to flatten the energy curve.

Consider a TODO kWh capacity battery at 50% state of charge, that can charge or discharge TODO kWh within 15 minutes.

1. [prices.csv](prices.csv) contains the 15 minute window kWh-prices in euros for a full day. How can we utilize our battery in order to make the most profit? Write an [ILP program](https://en.wikipedia.org/wiki/Integer_programming) using [`scipy.optimize.linprog`](https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.linprog.html). Minimize the linear price objective: $\sum_k c_k x_k$ where $c_k$ are the energy costs at time $k$ (they may be negative!), and $x_k$ is the battery (dis)charge decision on time $k$.
2. [profile.csv](profile.csv) contains the expected 15 minute window net energy consumption/production-profile for a full day. How can we utilize our battery in order to flatten the curve as much as possible? Write a least squares optimization problem using TODO. Minimize the sum of squares objective: $\sum_k {(x_k - p_k)^2}$, where $x_k$ is the battery (dis)charge decision on time $k$, and $p_k$ is the expected net profile without the battery.
3. What do you suspect happens if multiple devices are present in the network under each of these objectives?